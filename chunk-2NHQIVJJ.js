import{H as i,Na as c,j as s,n as a}from"./chunk-NGFC7DHN.js";var m=(()=>{class o{constructor(){this.authService=a(c),this.selectedOrgId=i(null);let e=localStorage.getItem("selectedOrganizationId");e?(this.selectedOrgId.set(parseInt(e)),console.log("\u{1F527} OrganizationContext restored from localStorage:",e)):console.log("\u{1F527} OrganizationContext initialized - no saved selection")}setOrganization(e){this.selectedOrgId.set(e),localStorage.setItem("selectedOrganizationId",e.toString()),console.log("\u2705 OrganizationContext set to:",e,"(saved to localStorage)")}clearOrganization(){this.selectedOrgId.set(null),localStorage.removeItem("selectedOrganizationId")}getOrganizationId(){return this.selectedOrgId()}addOrgParam(e){let t=this.selectedOrgId();if(console.log("\u{1F50D} addOrgParam called - selectedOrgId:",t),!t)return console.log("\u26A0\uFE0F No org selected - returning URL unchanged"),e;let r=this.authService.currentUser()?.organizationId;if(console.log("\u{1F464} User org:",r,"- Selected org:",t),(typeof r=="string"?parseInt(r):r)===t)return console.log("\u2139\uFE0F Viewing own organization - using default filtering"),e;let l=e.includes("?")?"&":"?",n=`${e}${l}organizationId=${t}`;return console.log("\u2705 Adding org param for cross-org access - New URL:",n),n}static{this.\u0275fac=function(t){return new(t||o)}}static{this.\u0275prov=s({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();export{m as a};
